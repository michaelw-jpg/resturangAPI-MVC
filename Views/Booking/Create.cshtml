@model resturangAPI_MVC.ViewModel.Booking.CreateBookingVM

@{
    ViewData["Title"] = "Create";
}

<h1>Create Booking</h1>
<hr />

<div class="row">
    <div class="col-md-6">
        <!-- React will mount here -->
        <div id="bookingFormContainer"></div>
    </div>
</div>

<div>
    <div>
        <a href="javascript:void(0);" onclick="goBack()">Avbryt bokning</a>
    </div>

    <script>
        function goBack() {
            if (document.referrer) {
                // Go back to previous page
                window.history.back();
            } else {
                // Fallback to Home/Index
                window.location.href = '@Url.Action("Index", "Home")';
            }
        }
    </script>
</div>

@section Scripts {
    <!-- Load the React bundle built by Vite -->
    <script src="~/js/bookingForm.bundle.js"></script>

    <!-- Mount the React booking form -->
    <script>
        mountBookingForm(
            "bookingFormContainer",
            "https://localhost:7238/", // apiBaseUrl
            "https://localhost:7238/api/Bookings" // full endpoint for POST
        );
    </script>
}
